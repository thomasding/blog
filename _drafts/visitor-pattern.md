---
layout: post
title: 用访问者模式遍历抽象语法树
tags: [c++]
comments: false
---

在遍历抽象语法树时，我们需要根据节点的类型选择对应的处理函数。
例如，我们在实现四则运算表达式树的求值函数时，会根据节点对应的类型选择运算方法。
如果节点类型是加法，就执行相加的操作，如果节点类型是乘法，就执行相乘的操作。
一般来说，我们需要使用一组 `if ... else if ... else` 来实现这个功能。
使用这种方法的主要问题是灵活性很差，每次新增一个节点类型，都需要修改这个分发函数。
